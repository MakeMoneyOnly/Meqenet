#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Meqenet.et Pre-Commit Hook
# Comprehensive FinTech Security & Quality Gate

echo "ğŸš€ Meqenet.et Pre-Commit Comprehensive Checks"
echo "============================================="

# 1. Run Prettier formatting
echo "ğŸ’… Running Prettier formatting..."
pnpm run format:write || {
  echo "âŒ Prettier formatting failed"
  exit 1
}

# 2. Run comprehensive linting
echo "ğŸ” Running comprehensive linting..."
pnpm run lint:enterprise || {
  echo "âŒ Comprehensive linting failed"
  exit 1
}

# 3. Run lint-staged for staged files
echo "ğŸ“ Running lint-staged for staged files..."
pnpm exec lint-staged || {
  echo "âŒ Lint-staged failed"
  exit 1
}

echo "âœ… All pre-commit checks passed!"
echo "ğŸ‡ªğŸ‡¹ Code quality maintained for Ethiopian FinTech excellence!"